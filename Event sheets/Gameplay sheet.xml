<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Gameplay sheet</name>
    <events>
        <event-group description="" sid="9002456867769247" title="Initialization">
            <sub-events>
                <event-block disabled="1" sid="4072104659286893">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="2447334150881675" type="System" />
                    </conditions>
                    <actions>
                        <action id="-3" name="Create object" sid="6641450835086096" type="System">
                            <param id="0" name="Object to create">PlayerAnimations</param>
                            <param id="1" name="Layer">2</param>
                            <param id="2" name="X">player.X</param>
                            <param id="3" name="Y">player.Y</param>
                        </action>
                        <action behavior="Pin" id="0" name="Pin to object" sid="6551566040734019" type="PlayerAnimations">
                            <param id="0" name="Pin to">player</param>
                            <param id="1" name="Mode">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="631818763560375" title="Game Controller ">
            <sub-events>
                <event-block disabled="1" sid="5450152055627478">
                    <conditions>
                        <condition id="-4" name="Is outside layout" sid="1276219039971941" type="player" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="9725213000264983" type="player" />
                        <action id="-26" name="Restart layout" sid="6738484116236032" type="System" />
                        <action id="-3" name="Create object" sid="7730467389266514" type="System">
                            <param id="0" name="Object to create">player</param>
                            <param id="1" name="Layer">0</param>
                            <param id="2" name="X">96</param>
                            <param id="3" name="Y">256</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="1898108749148819">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="8198951412576255" type="System" />
                    </conditions>
                    <actions>
                        <action disabled="1" id="0" name="Set text" sid="2228677639135485" type="debug_text">
                            <param id="0" name="Text">player.Platform.Speed</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="8415941169537446">
                            <conditions>
                                <condition id="1" name="Is overlapping another object" sid="2858405827076971" type="player">
                                    <param id="0" name="Object">TilemapMountain_SlideTester</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Set text" sid="5202374973142273" type="debug_text">
                                    <param id="0" name="Text">&quot;overlaping&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="3044458863691071">
                            <conditions>
                                <condition id="-22" name="Else" sid="9793900961499394" type="System" />
                            </conditions>
                            <actions>
                                <action id="0" name="Set text" sid="5190044606578286" type="debug_text">
                                    <param id="0" name="Text">&quot;not overlaping&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="5060678084619578" title="Camera">
            <sub-events>
                <event-block sid="8932343579007269">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="6367943299400623" type="System" />
                    </conditions>
                    <actions>
                        <action id="-7" name="Scroll to position" sid="3848449332144387" type="System">
                            <param id="0" name="X">player.X</param>
                            <param id="1" name="Y">player.Y</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="705772945378927" title="Player controlls">
            <sub-events>
                <event-block sid="5431687572431608">
                    <conditions>
                        <condition id="2" name="Key is down" sid="1694791133075243" type="Keyboard">
                            <param id="0" name="Key">65 (A)</param>
                        </condition>
                        <condition id="2" name="Is playing" sid="5898960926259325" type="player">
                            <param id="0" name="Animation">&quot;Default&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block any="1" sid="9053236025673111">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="6830160770138412" type="player">
                                    <param id="0" name="Instance variable">wallRun</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="5784684413303162" type="player">
                                    <param id="0" name="Instance variable">wallHoldTimer</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">0.25</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Platform" id="7" name="Simulate control" sid="1571192706685998" type="player">
                                    <param id="0" name="Control">0</param>
                                </action>
                                <action id="7" name="Set mirrored" sid="8460181882998895" type="player">
                                    <param id="0" name="State">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="736422497680356">
                    <conditions>
                        <condition id="2" name="Key is down" sid="6694645273403699" type="Keyboard">
                            <param id="0" name="Key">68 (D)</param>
                        </condition>
                        <condition id="2" name="Is playing" sid="9991851938431492" type="player">
                            <param id="0" name="Animation">&quot;Default&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block any="1" sid="7592813420620835">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="6911693465029381" type="player">
                                    <param id="0" name="Instance variable">wallRun</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="6946498269945592" type="player">
                                    <param id="0" name="Instance variable">wallHoldTimer</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">0.25</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Platform" id="7" name="Simulate control" sid="4380724256690375" type="player">
                                    <param id="0" name="Control">1</param>
                                </action>
                                <action id="7" name="Set mirrored" sid="6216102423190629" type="player">
                                    <param id="0" name="State">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="7566837739291702">
                    <conditions>
                        <condition id="2" name="Key is down" sid="9035643623110796" type="Keyboard">
                            <param id="0" name="Key">83 (S)</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="6747649940405439" type="player">
                            <param id="0" name="Instance variable">wallRun</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="357163412787492" type="player">
                            <param id="0" name="Instance variable">wallHoldTimer</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-10" name="Set value" sid="9549003026671402" type="player">
                            <param id="0" name="Instance variable">wallRun</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block disabled="1" sid="556230562398077">
                    <conditions>
                        <condition id="2" name="Key is down" sid="6735345792578249" type="Keyboard">
                            <param id="0" name="Key">16 (Shift)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="2" name="Set acceleration" sid="4394002229464377" type="player">
                            <param id="0" name="Acceleration">700</param>
                        </action>
                        <action behavior="Platform" id="1" name="Set max speed" sid="7413188432130777" type="player">
                            <param id="0" name="Max Speed">700</param>
                        </action>
                    </actions>
                </event-block>
                <event-block disabled="1" sid="4007884866084037">
                    <conditions>
                        <condition id="-22" name="Else" sid="3521861719103087" type="System" />
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="2" name="Set acceleration" sid="8670812234025997" type="player">
                            <param id="0" name="Acceleration">5000</param>
                        </action>
                        <action behavior="Platform" id="1" name="Set max speed" sid="1569317337790097" type="player">
                            <param id="0" name="Max Speed">500</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="1459494504203031">
                    <conditions>
                        <condition id="2" name="Key is down" sid="1042804695785424" type="Keyboard">
                            <param id="0" name="Key">32 (Space)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="7" name="Simulate control" sid="4323141178294995" type="player">
                            <param id="0" name="Control">2</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="8091260276103441">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="6251119924410398" type="Keyboard">
                            <param id="0" name="Key">32 (Space)</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="2052559885362188" type="player">
                            <param id="0" name="Instance variable">wallRun</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="9" name="Set vector Y" sid="5946892128432294" type="player">
                            <param id="0" name="Vector Y">-500</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="2426658460078145">
                            <conditions>
                                <condition behavior="Platform" id="10" name="Is by wall" sid="4674944593920048" type="player">
                                    <param id="0" name="Side">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Platform" id="8" name="Set vector X" sid="2072474387687621" type="player">
                                    <param id="0" name="Vector X">500</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="9310084179426131">
                            <conditions>
                                <condition id="-22" name="Else" sid="4005172236824013" type="System" />
                            </conditions>
                            <actions>
                                <action behavior="Platform" id="8" name="Set vector X" sid="1033013184462646" type="player">
                                    <param id="0" name="Vector X">-500</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>Wall jumping logic</comment>
                <event-block sid="5887463173109496">
                    <conditions>
                        <condition behavior="Platform" id="2" inverted="1" name="Is on floor" sid="9955330144276253" type="player" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block any="1" sid="4109826574031687">
                            <conditions>
                                <condition behavior="Platform" id="10" name="Is by wall" sid="8363492700999871" type="player">
                                    <param id="0" name="Side">0</param>
                                </condition>
                                <condition behavior="Platform" id="10" name="Is by wall" sid="7874334633361721" type="player">
                                    <param id="0" name="Side">1</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="9993693306089286">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="4737748510957341" type="player">
                                            <param id="0" name="Instance variable">wallRun</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Platform" disabled="1" id="9" name="Set vector Y" sid="6015257084697068" type="player">
                                            <param id="0" name="Vector Y">player.Platform.VectorY-player.Platform.Speed</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="6896187129516442">
                                    <conditions>
                                        <condition id="-1" name="Every tick" sid="5280721423917535" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="9734316741959015" type="player">
                                            <param id="0" name="Instance variable">wallRun</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="956991860383083">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="4072344969309385" type="System">
                                            <param id="0" name="First value">player.Platform.VectorY</param>
                                            <param id="1" name="Comparison">5</param>
                                            <param id="2" name="Second value">0</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="7319079131959574" type="player">
                                            <param id="0" name="Instance variable">wallHoldTimer</param>
                                            <param id="1" name="Comparison">3</param>
                                            <param id="2" name="Value">0.25</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Platform" id="9" name="Set vector Y" sid="5924659546806346" type="player">
                                            <param id="0" name="Vector Y">0</param>
                                        </action>
                                        <action id="-11" name="Add to" sid="3469280356894154" type="player">
                                            <param id="0" name="Instance variable">wallHoldTimer</param>
                                            <param id="1" name="Value">dt</param>
                                        </action>
                                        <action behavior="Platform" id="5" name="Set gravity" sid="576105151959126" type="player">
                                            <param id="0" name="Gravity">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="5695642069982924">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="5845723616867354" type="System" />
                                    </conditions>
                                    <actions>
                                        <action behavior="Platform" id="5" name="Set gravity" sid="5645600053571618" type="player">
                                            <param id="0" name="Gravity">2000</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="9678417144875496">
                            <conditions>
                                <condition id="-22" name="Else" sid="2527477201499291" type="System" />
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="4020550536328877" type="player">
                                    <param id="0" name="Instance variable">wallHoldTimer</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="-10" name="Set value" sid="6431159091375275" type="player">
                                    <param id="0" name="Instance variable">wallRun</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action behavior="Platform" id="5" name="Set gravity" sid="6645730438412679" type="player">
                                    <param id="0" name="Gravity">2000</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="6557264431057542">
                    <conditions>
                        <condition id="-22" name="Else" sid="453805336111769" type="System" />
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="5" name="Set gravity" sid="1656146402790406" type="player">
                            <param id="0" name="Gravity">2000</param>
                        </action>
                        <action id="-10" name="Set value" sid="1788976533790258" type="player">
                            <param id="0" name="Instance variable">wallHoldTimer</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="-10" name="Set value" sid="1979165902371986" type="player">
                            <param id="0" name="Instance variable">wallRun</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-block sid="655043855639033">
            <conditions>
                <condition id="0" name="On collision with another object" sid="8316695603266793" type="player">
                    <param id="0" name="Object">Elivator</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Platform" id="9" name="Set vector Y" sid="8980068026350241" type="player">
                    <param id="0" name="Vector Y">Elivator.Sine.Value</param>
                </action>
            </actions>
        </event-block>
        <event-group description="" sid="9923715359586343" title="Slide">
            <sub-events>
                <event-block sid="8897671753579716">
                    <conditions>
                        <condition behavior="Platform" id="0" name="Is moving" sid="3033387986767805" type="player" />
                        <condition id="2" name="Key is down" sid="5003383271987717" type="Keyboard">
                            <param id="0" name="Key">83 (S)</param>
                        </condition>
                        <condition id="2" inverted="1" name="Is playing" sid="6024379660924176" type="player">
                            <param id="0" name="Animation">&quot;Slide&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="2909587690806949" type="player">
                            <param id="0" name="Animation">&quot;Slide&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action behavior="Timer" id="0" name="Start timer" sid="5713150581578811" type="player">
                            <param id="0" name="Duration">0.5</param>
                            <param id="1" name="Type">0</param>
                            <param id="2" name="Tag">&quot;SlideEnded&quot;</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="7039577880243274">
                            <conditions>
                                <condition id="7" name="Is mirrored" sid="4075060196079717" type="player" />
                            </conditions>
                            <actions>
                                <action behavior="Platform" id="1" name="Set max speed" sid="1457632383828141" type="player">
                                    <param id="0" name="Max Speed">500</param>
                                </action>
                                <action behavior="Platform" id="8" name="Set vector X" sid="9376274217274075" type="player">
                                    <param id="0" name="Vector X">player.Platform.VectorX+100</param>
                                </action>
                                <action id="-10" name="Set value" sid="5033849559586867" type="player">
                                    <param id="0" name="Instance variable">slideSpeed</param>
                                    <param id="1" name="Value">player.Platform.VectorX</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="4263078139405383">
                            <conditions>
                                <condition id="-22" name="Else" sid="93799854310804" type="System" />
                            </conditions>
                            <actions>
                                <action behavior="Platform" id="1" name="Set max speed" sid="2621526726343108" type="player">
                                    <param id="0" name="Max Speed">500</param>
                                </action>
                                <action behavior="Platform" id="8" name="Set vector X" sid="7257178830118625" type="player">
                                    <param id="0" name="Vector X">player.Platform.VectorX-100</param>
                                </action>
                                <action id="-10" name="Set value" sid="3708744148891612" type="player">
                                    <param id="0" name="Instance variable">slideSpeed</param>
                                    <param id="1" name="Value">player.Platform.VectorX</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="6638710531129181">
                    <conditions>
                        <condition behavior="Timer" id="0" name="On timer" sid="9352775153886488" type="player">
                            <param id="0" name="Tag">&quot;SlideEnded&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="478408517757594" type="player">
                            <param id="0" name="Animation">&quot;Default&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action behavior="Platform" id="1" name="Set max speed" sid="8147470474210683" type="player">
                            <param id="0" name="Max Speed">400</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="3163514479287406">
                            <conditions>
                                <condition id="1" name="Is overlapping another object" sid="7161292825119252" type="player">
                                    <param id="0" name="Object">TilemapMountain_SlideTester</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="8503743425860448" type="player">
                                    <param id="0" name="Animation">&quot;Slide&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="521534189209019" type="player">
                                    <param id="0" name="Instance variable">standUp</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="8604044659651339">
                    <conditions>
                        <condition id="1" inverted="1" name="Is overlapping another object" sid="1560657471400573" type="player">
                            <param id="0" name="Object">TilemapMountain_SlideTester</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="9560665393324185" type="player">
                            <param id="0" name="Instance variable">standUp</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="4185861411472519" type="player">
                            <param id="0" name="Animation">&quot;Default&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="6007313837183769">
                            <conditions>
                                <condition id="1" name="Is overlapping another object" sid="9415552124058975" type="player">
                                    <param id="0" name="Object">TilemapMountain_SlideTester</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="2962177330657539" type="player">
                                    <param id="0" name="Animation">&quot;Slide&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="1465940856629463">
                            <conditions>
                                <condition id="-22" name="Else" sid="1368127050296866" type="System" />
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="1625251640930822" type="player">
                                    <param id="0" name="Instance variable">standUp</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="9962632439204701">
                    <conditions>
                        <condition id="2" name="Is playing" sid="6162917612004589" type="player">
                            <param id="0" name="Animation">&quot;Slide&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="8" name="Set vector X" sid="7406050298773208" type="player">
                            <param id="0" name="Vector X">player.slideSpeed</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="4925658281382207" title="Animations" />
    </events>
</c2eventsheet>
